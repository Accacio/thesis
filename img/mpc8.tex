% This file was created by matlab2tikz.
%
%The latest updates can be retrieved from
%  http://www.mathworks.com/matlabcentral/fileexchange/22022-matlab2tikz-matlab2tikz
%where you can also make suggestions and rate matlab2tikz.
%
\definecolor{mycolor1}{rgb}{0.47000,0.12000,0.22000}%
%
\begin{tikzpicture}

\begin{axis}[%
width=0.675\fwidth,
height=0.419\fheight,
at={(0\fwidth,0.581\fheight)},
scale only axis,
xmin=1,
xmax=10,
ymin=18,
ymax=22,
axis background/.style={fill=white},
title style={font=\bfseries},
title={Temperature in Room},
legend style={at={(1.03,0)}, anchor=south west, legend cell align=left, align=left, draw=white!15!black}
]
\addplot[const plot, color=gray, line width=1.5pt] table[row sep=crcr] {%
1	20\\
2	20\\
3	20\\
4	20\\
5	20\\
6	21\\
7	21\\
8	21\\
9	21\\
10	21\\
};
\addlegendentry{Setpoint}

\addplot [color=mycolor1, only marks, mark=asterisk, mark options={solid, mycolor1}]
  table[row sep=crcr]{%
1	18.3\\
2	19.2922432972485\\
3	19.7421558473231\\
4	19.9080020336521\\
5	19.9691994260194\\
6	19.991835840366\\
7	20.6315685911097\\
8	20.8673492565163\\
};
\addlegendentry{State}

\addplot[const plot, color=mycolor1, dashed, line width=1.0pt] table[row sep=crcr] {%
8	20.8673492565163\\
9	20.8868479256373\\
10	20.8717333373315\\
11	20.8087284948109\\
12	20.6419287074761\\
13	20.2228485328721\\
};
\addlegendentry{Prediction}


\addplot[area legend, draw=none, fill=mycolor1, fill opacity=0.1, forget plot]
table[row sep=crcr] {%
x	y\\
8	18\\
8	22\\
13	22\\
13	18\\
}--cycle;
\end{axis}

\begin{axis}[%
width=0.793\fwidth,
height=0.419\fheight,
at={(0\fwidth,0\fheight)},
scale only axis,
xmin=1,
xmax=10,
ymin=0,
ymax=2,
axis background/.style={fill=white},
title style={font=\bfseries},
title={Control},
legend style={at={(1.03,0)}, anchor=south west, legend cell align=left, align=left, draw=white!15!black}
]
\addplot[const plot, color=mycolor1, dashed, line width=1.0pt] table[row sep=crcr] {%
8	1.21206014714867\\
9	1.17304877945291\\
10	1.1177101175299\\
11	0.998622423086782\\
12	0.711154951811555\\
};
\addlegendentry{Prediction}

\addplot[const plot, color=mycolor1, draw=none, only marks, mark=asterisk, mark options={solid, mycolor1}] table[row sep=crcr] {%
1	1.99999997976911\\
2	1.49968322994835\\
3	1.23261880934558\\
4	1.13337957695808\\
5	1.09607698751301\\
6	1.73202921229693\\
7	1.35275020081485\\
8	1.21206014714867\\
};
\addlegendentry{Applied}


\addplot[area legend, draw=none, fill=mycolor1, fill opacity=0.1, forget plot]
table[row sep=crcr] {%
x	y\\
8	0\\
8	2\\
13	2\\
13	0\\
}--cycle;
\end{axis}

\begin{axis}[%
width=1.227\fwidth,
height=1.227\fheight,
at={(-0.16\fwidth,-0.135\fheight)},
scale only axis,
xmin=0,
xmax=1,
ymin=0,
ymax=1,
axis line style={draw=none},
ticks=none,
axis x line*=bottom,
axis y line*=left
]
\end{axis}
\end{tikzpicture}%