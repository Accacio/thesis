% This file was created by matlab2tikz.
%
%The latest updates can be retrieved from
%  http://www.mathworks.com/matlabcentral/fileexchange/22022-matlab2tikz-matlab2tikz
%where you can also make suggestions and rate matlab2tikz.
%
\definecolor{mycolor1}{rgb}{0.47000,0.12000,0.22000}%
%
\begin{tikzpicture}

\begin{axis}[%
width=0.68\fwidth,
height=0.414\fheight,
at={(0\fwidth,0.586\fheight)},
scale only axis,
xmin=1,
xmax=10,
ymin=18,
ymax=22,
axis background/.style={fill=white},
title style={font=\bfseries},
title={Temperature in Room},
legend style={at={(1.03,0)}, anchor=south west, legend cell align=left, align=left, draw=white!15!black}
]
\addplot[const plot, color=gray, line width=1.5pt] table[row sep=crcr] {%
1	20\\
2	20\\
3	20\\
4	20\\
5	20\\
6	21\\
7	21\\
8	21\\
9	21\\
10	21\\
};
\addlegendentry{Setpoint}

\addplot [color=mycolor1, only marks, mark=asterisk, mark options={solid, mycolor1}]
  table[row sep=crcr]{%
1	18.3\\
};
\addlegendentry{State}

\addplot[const plot, color=mycolor1, dashed, line width=1.0pt] table[row sep=crcr] {%
1	18.3\\
2	19.1809073117312\\
3	19.591726028418\\
4	19.7017653509018\\
5	19.6096822707726\\
6	19.2336793296855\\
};
\addlegendentry{Prediction}


\addplot[area legend, draw=none, fill=mycolor1, fill opacity=0.1, forget plot]
table[row sep=crcr] {%
x	y\\
1	18\\
1	22\\
6	22\\
6	18\\
}--cycle;
\end{axis}

\begin{axis}[%
width=0.8\fwidth,
height=0.414\fheight,
at={(0\fwidth,0\fheight)},
scale only axis,
xmin=1,
xmax=10,
ymin=0,
ymax=2,
axis background/.style={fill=white},
title style={font=\bfseries},
title={Control},
legend style={at={(1.03,0)}, anchor=south west, legend cell align=left, align=left, draw=white!15!black}
]
\addplot[const plot, color=mycolor1, dashed, line width=1.0pt] table[row sep=crcr] {%
1	1.99999997976911\\
2	1.53956947240415\\
3	1.23460068841189\\
4	1.01877961771561\\
5	0.701243917251587\\
};
\addlegendentry{Prediction}

\addplot[const plot, color=mycolor1, draw=none, only marks, mark=asterisk, mark options={solid, mycolor1}] table[row sep=crcr] {%
1	1.99999997976911\\
};
\addlegendentry{Applied}


\addplot[area legend, draw=none, fill=mycolor1, fill opacity=0.1, forget plot]
table[row sep=crcr] {%
x	y\\
1	0\\
1	2\\
6	2\\
6	0\\
}--cycle;
\end{axis}

\begin{axis}[%
width=1.238\fwidth,
height=1.238\fheight,
at={(-0.161\fwidth,-0.136\fheight)},
scale only axis,
xmin=0,
xmax=1,
ymin=0,
ymax=1,
axis line style={draw=none},
ticks=none,
axis x line*=bottom,
axis y line*=left
]
\end{axis}
\end{tikzpicture}%